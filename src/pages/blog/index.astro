---
export const prerender = false;

import { SITE_TITLE, SITE_DESCRIPTION } from "../../consts";
import Layout from "../../layouts/Layout.astro";
import fetchApi from "../../../lib/strapi";
import type Article from "../../interfaces/article";

const articles = await fetchApi<Article[]>({
  endpoint: "articles?populate=image",
  wrappedByKey: "data",
});
---

<Layout title={`${SITE_TITLE} - Projects`} description={SITE_DESCRIPTION}>
  <div class="p-2 max-w-[calc(100%_-_2em)] w-[750px] m-auto pt-10">
    <h1 class="dark:text-white font-bold text-xl text-center mb-10">
      Enjoy my blog!
    </h1>
    <div>
      {
        articles.map((article) => (
          <div>
          <a href={`/blog/${article.attributes.slug}/`}>
            {article.attributes.title}
          </a>
        </div>
        ))
      }
    </div>
  </div>
</Layout>
