---
import { SITE_TITLE, SITE_DESCRIPTION } from "../../consts";
import Layout from "../../layouts/Layout.astro";
import { getCollection } from "astro:content";
import { Image } from "astro:assets";

const blog = await getCollection("blog");
import "@fontsource-variable/open-sans";
---

<Layout title={`${SITE_TITLE} - Projects`} description={SITE_DESCRIPTION}>
  <div class="p-2 max-w-[calc(100%_-_2em)] w-[1024px] m-auto pt-10">
    <h1 class="dark:text-white font-bold text-xl text-center mb-10">
      Here are my blogs, enjoy!
    </h1>
    <div class="grid gap-3 md:grid-cols-2 lg:grid-cols-3">
      {
        blog.map((article) => (
          <a
            href={`/blog/${article.slug}/`}
            class="dark:text-white bg-stone-900 aspect-video relative rounded-lg"
          >
            <Image
              src={
                article.data.heroImage
              }
              class="aspect-video rounded-lg"
              width={1600}
              height={900}
              alt="Blog post hero image"
            />
            <div class="absolute w-full h-full top-0 backdrop-brightness-75 hover:backdrop-brightness-100 transition-all duration-100 flex flex-col justify-end p-4 rounded-lg">
              <h2 class="font-semibold text-lg text-white" id="title">
                {article.data.title}
              </h2>
              <p class="line-clamp-2 text-sm font-thin text-white">
                {article.data.description}
              </p>
            </div>
          </a>
        ))
      }
    </div>
  </div>
</Layout>
<style>
  #title {
    font-family: "Open Sans Variable", sans-serif;
  }
</style>
